---
layout: caymanyomi
category: ai
docid: ctusin
title: やまびこ通信用Chatty原稿の形式
author: 水野光子
ccbysa: true
date: 2019-09-22T08:41:32Z
iro: cb5300
gra: feffcf
math: false
---

# やまびこ通信用Chatty原稿の形式
{:.no_toc}

やまびこ通信の原稿を作る際には、通常のChatty原稿の注意事項に加えて、自動的にウェブ用の形式に変換するための記号にも留意する必要がある。

## 目次
{:.no_toc}

* TOC
{:toc}


## やまびこ通信のワード原稿からChatty原稿を作成する作業の流れ

1. 機種依存文字を汎用文字に置き換え、全角スペースや全角数字を半角に直し、行頭のスペースやタブを削除し、2つ以上のスペースの連続を1つのスペースに置き換える。
2. 前号のChatty原稿を開き、新号用に名前を変えて保存する。
3. そのファイルで一時的に新規インデックス（セクション）を追加し、上記1の作業が済んだ原稿の文字部分をコピーし、新規セクション内にペーストする。
4. 新規セクション内の新号の文章を1節程度ずつ切り取り、前号のセクション内に貼り付け、前号の形式と見比べながら同じ形になるように直し、直し終わったら前号の文章を削除する。
5. 新号の文章の形式を全部修正し終わったら、一時的な新規インデックスを削除する。
6. 自動読み上げを聞きながら、読み上げの修正をする。
7. DAISY2.02（マルチメディア）としてエクスポートする。
8. エクスポートで作成されたフォルダ内のmaster.smilファイルをテキストエディタで開き、読み上げ時間を確認する。
9. Chatty原稿の冒頭にある読み上げ時間を正しい数値に直して原稿を保存し、そのimlxファイルをウェブ化担当者に渡す。

以上のうち、1の作業を自動化するプログラムは作ってあるが、それを使うにはlinuxが必要。

2の作業で、新号の編集のために前号のデータを使うことは重要。よく使う単語の読みが全て登録されているので、単語登録の手間が省け、各号の品質の安定性が保たれる。

## やまびこ通信用の特別な注意事項

### ポーズ、文字消し、カット画像、音声消し、見出し形式
{:.no_toc}

![原稿サンプル、1/5](media/ctusin/tusin1.png){: .naka}

- 通常のChatty原稿では、冒頭にタイトルが入るが、ウェブ用の特別措置としてロングポーズ5個で始まる。これは、ウェブページをスクリーンリーダー付きの機器で開いた場合に、ページの発する音声がスクリーンリーダーの音声と重ならないようにするため。

- ウェブ用では、文字で書かずに音声だけで説明を入れる部分がある。その部分の文字がウェブページでは表示されないように、ウェブ化のときに自動的に文字を削除するための準備として、`ケス`と`スケ`で挟む。  
```
ケス読み上げ時間 約5分30秒スケ
```  
記号として使っている`ケス`と`スケ`自体は読み上げられないように、無音化`Ctrl 0`する。

- カット画像（挿絵）を指定された位置に入れるため、その位置に  
```
（カット1）
（カット2）
（カット3）
...
```  
という記号を入れる。数字は挿絵の順番。  
**括弧は全角、数字は半角**で入力する。  
この記号自体が読み上げられないように、無音化`Ctrl 0`する。

- リストの各項目の最後に、ロングポーズ`Ctrl Shift L`を入れる。**最後に句点や閉じ括弧がある場合は、その直前に**入れる。

- 各節の最後にはロングポーズ`Ctrl Shift L`を3個以上入れる。俳句の節の最後は4個以上。最後に句点や閉じ括弧がある場合は、その直前に入れる。

- フレーズを切りたくない場所で読み上げフレーズが切れてしまうところには、ハイライト結合`Ctrl Shift +`を入れる。

- 各節の見出しの冒頭には**半角のナンバーサイン`#`2個と半角スペース1個**を付け、  
```
## 見出し
```  
という形にする。  
小見出しはナンバーサイン3個`### `、小小見出しはナンバーサイン4個`#### `という形で、ナンバーサイン`#`の数を増やす。

### 表形式、俳句、ルビ形式
{:.no_toc}

![原稿サンプル、2/5](media/ctusin/tusin2.png){: .naka}

- 対面音訳の節は、表形式で表示しているので、それ用の記号が付いている。新しい号を作成するときには、前の号のデータを使って、数字だけを書き換える。

- 俳句は同じものを2回読むことになっているので、Chatty原稿では同じものを2回書く。また、他の節の文章よりもポーズを長めに付ける。

- ルビは本来`Ctrl Shift ↑`で付けることができるが、やまびこ通信用原稿では、ワード原稿から取り込んで作業する効率上の理由で、以下の形でルビを記入することにしている。  
全角縦線`｜`と半角スペースと半角括弧` () `を使って、以下の形式で書く。  
```
これは｜漢字 (かんじ) です。
```  
**全角縦線`｜`は、ルビが付く部分の開始**をあらわし、半角スペースと半角括弧` () `の中身がルビ自体をあらわす。ルビ自体を読み上げないように、半角スペースと半角括弧` () `とルビ自体を無音化`Ctrl 0`する。  
フレーズ冒頭に限り、全角縦線`｜`を省略しても良い。

#### 間違い例
{:.no_toc}

![ルビ形式間違い](media/ctusin/misc00.jpg){: .naka}

- ルビ（ふりがな）が付く部分は「待」だけなので、全角縦線`｜`を「バスを」の前に置くのは間違い。
- ルビ内容を指定する部分で、半角スペースの位置が違う。「待」の前に入れるべきものは、半角スペースではなく全角縦線。半角括弧はじめの前には半角スペースが必要。

#### 修正例
{:.no_toc}

![ルビ形式修正例](media/ctusin/misc01.jpg){: .naka}


### 連絡用コメント
{:.no_toc}

![原稿サンプル、3/5](media/ctusin/tusin3.png){: .naka}

- メニュー＞書式(O)＞HTMLタグ入力モード、またはそれに該当するボタンをオンにしてから、以下の形式を入力すると、読み上げも表示もされない連絡用のコメントを記入できる。  
```
<!--ここにコメントを書ける。-->
```

### クイズの形式
{:.no_toc}

![原稿サンプル、4/5](media/ctusin/tusin4.png){: .naka}

- Let's Try! では、問題にレイアウト用の記号が付いている。  
新しい号を作成するときには、前の号のデータを使って、問題だけを書き換える。  
記号や問題を読み上げないように、無音化`Ctrl 0`する。

### 終わり部分
{:.no_toc}

![原稿サンプル、5/5](media/ctusin/tusin5.png){: .naka}

- 「定例会」の部分は毎号同じなので、前号のデータをそのまま使い、いじらない。終わりアナウンスの数字だけを変更する。

## Chatty原稿作成の一般的な注意事項

以下のことは、やまびこ通信の場合に限らず、Chattyを扱う際にはいつでも注意するべきである。

### 音声設定

メニュー＞設定＞音声設定＞ハイライト（日本語）で、フレーズを区切る記号を選択できる。

![音声設定画面](media/ctusin/tojikakko.png){: .naka}

デフォルトでは「閉じ括弧で分割」がチェックされていない。閉じ括弧でフレーズを区切ることが多い文書では、これをチェックすると作業が楽になる。

これをチェックしている場合、閉じ括弧でフレーズを区切りたくない所では、閉じ括弧自体を無音化`Ctrl 0`すれば、フレーズが切れないようになる。

### 区切り方

文章の内容に応じて、以下の4種類の区切りを使い分ける。これを使いこなすことによって、合成音声の弱点として挙げられることの多い、マの取り方の問題を克服できる。

- ハイライト分割`Ctrl Shift /`：フレーズの区切り
- ロングポーズ`Ctrl Shift L`：大きめの意味のまとまりの区切り
- ショートポーズ`Ctrl Shift S`：小さめの意味のまとまりの区切り
- 半角スペース：単語の区切り

ロングポーズは、リストの項目末、段落末、セクション末など、通常の文末より長いポーズを必要とするところに、複数個並べて挿入することもある。その際、無音フレーズが作られないようにするため、**入れたい場所に句点`。`や閉じ括弧`）` `」`があれば、その直前に挿入**する。

**半角スペース**は単語の区切りであり、読み上げの区切りではない。単語の区切りは、読み上げでは**文節の高低アクセントに影響を与えるが、ポーズになるとは限らない。**

#### 間違い例
{:.no_toc}

![ポーズ場所間違い](media/ctusin/pause00.png){: .naka}

- ポーズを閉じ括弧のあとに入れている。閉じ括弧は、音声設定によって、フレーズ区切りになることがあるので、その後にポーズを入れると無音フレーズができてしまい、デイジーデータの全国基準に違反する。

#### 修正例
{:.no_toc}

![ポーズ場所修正例](media/ctusin/pause01.png){: .naka}

- 閉じ括弧のほかにも、句読点がある場合は、その直後にはポーズを入れない。ポーズが必要な場合は句読点の直前に入れる。

### 使用する文字に関する注意

#### スペース、タブ、改行をむやみに入れない。

スペース、タブ、改行は読み上げ方に影響するので、文章の区切りとして適切な位置以外で使ってはいけない。これらは「見えない文字」であって、レイアウトを整える機能ではない。

また一般に、デジタル文書の特徴として、表示に使われる機械の性質が一律ではないため、文書のレイアウトは、タグと呼ばれる記号列によって、どういう機械で表示しても全体の整合性が保たれるように管理される。そのため、「文字」の一種であるスペース、タブ、改行などを、編集画面での見栄えを良くするために使うことは許されない。

#### アルファベットと数字は半角で。

どういう機械で表示しても、アルファベットや数字の列の途中で折返しが起こりにくいように、全角英数字を使わずに半角英数字を使うほうが良い。

#### 機種依存文字

ChattyからエクスポートするデータはデフォルトでUTF-8エンコーディングになる。この設定を変更していなければ、[機種依存文字](https://mect-japan.com/2017/login/guide/izon.html)であっても、意図したものと異なる文字として表示される心配はない。

しかし、利用者が表示に使うフォントによっては、読みにくかったり表示できなかったりする可能性がある。そのため、機種依存文字の使用はできるだけ避けることにしている。

ただし、マルチメディアデイジー作製の場合で、原本に忠実である必要がある場合には、機種依存文字であっても使わざるを得ない。

いずれにしても、エクスポートするときにShiftJISではなくUTF-8に設定されていることを確認するように習慣づけると良い。

#### 例1
{:.no_toc}

![余計な改行](media/ctusin/kaigyo.png){: .naka}

改行は読み上げに影響するので、文の途中で改行してはいけない。

#### 例2
{:.no_toc}

![余計なスペース](media/ctusin/space_number.png){: .naka}

機種依存文字の一つであるナンバーという記号を、`No. `のような一般的な文字列に置き換える。

半角英数字と全角英数字の混用は見栄えが悪くなるので気を付ける。

スペースをレイアウト目的で使うことを避ける。

### 単語登録する単語として、意味のまとまりとなる範囲を選択する。

単語の一部分だけを単語登録`Ctrl J`しない。

#### 例1
{:.no_toc}

![単語登録画面、国際視覚障がい者](media/ctusin/tango_kokusaisikaku.png){: .naka}

「国際視覚障がい者スポーツ連盟」の「国際」は「視覚障がい者」に係るのではなく、「連盟」の方に係るので、「国際視覚障がい者」という単語ではない。この形で登録するのは不適切である。

以下のように、「国際視覚障がい者スポーツ連盟」を単語として登録するのは適切である。

![単語登録画面、国際視覚障がい者スポーツ連盟](media/ctusin/tango_kokusaisikaku2.png){: .naka}

#### 例2
{:.no_toc}

![単語登録画面、夏体験](media/ctusin/tango_natutaiken.png){: .naka}

「夏体験ボランティア」というイベント名の一部分なので、「夏体験」だけで1単語とするのは不適切である。

この場合は、元の読み方のままで正しいので、単語登録する必要がない。

#### 例3
{:.no_toc}

![単語登録画面、わいわい](media/ctusin/tango_waiwai.png){: .naka}

「わいわい文庫」というシリーズ名の一部なので、「わいわい」だけを単語として登録するのは不適切である。

以下のように、「わいわい文庫」を単語として登録するのは適切である。

![単語登録画面、わいわい文庫](media/ctusin/tango_waiwai2.png){: .naka}

### 名詞扱いしないものは単語登録しない。

Chattyに組み込まれているAITalkは、単品販売のフルバージョンと違って機能制限があり、名詞と記号だけしか品詞として設定できない。

名詞扱いしないものを名詞として単語登録`Ctrl J`すると、読み上げが不自然になる恐れがある。

#### 例1
{:.no_toc}

![単語登録画面「でしょうか？」](media/ctusin/desyoka.png){: .naka}

「でしょうか？」は名詞扱いしない語句なので、単語登録`Ctrl J`してはいけない。

上の場合は、疑問符付きの文が質問として読み上げられるために、文末のイントネーションが上がる。これを下げる読み方に変更したい場合は、疑問符を無視して句点として読むように、本文を以下のように編集する。

![「でしょうか？」本文](media/ctusin/desyoka2.png){: .naka}

疑問符を無音化`Ctrl 0`し、その直後に句点を追加する。追加した句点をマルチメディアデイジー化やウェブ化の際に自動的に消せるように、`ケス` `スケ`という記号で挟む。`ケス` `スケ`という記号自体は読み上げられないように、無音化`Ctrl 0`する。

逆に、句点で終わる文末のイントネーションを上げたい場合は、句点の直前に疑問符`？`を挿入すれば良い。追加した疑問符をマルチメディアデイジー化やウェブ化の際に自動的に消せるように、`ケス` `スケ`という記号で挟み、`ケス` `スケ`という記号自体は読み上げられないように、無音化`Ctrl 0`する。

#### 例2
{:.no_toc}

![単語登録画面「見にきて」](media/ctusin/minikite.png){: .naka}

「見にきて」の読み上げでアクセントが3に来ているので、1に来るように直したいが、名詞ではないので単語登録`Ctrl J`してはいけない。

そういう部分の読み上げを調整するには、そのフレーズに対して読み設定`Ctrl Shift ↓`をかける。

![読み設定画面「見にきてくださいました」](media/ctusin/minikite2.png){: .naka}

読み設定をかけた範囲内は、AITalkによる構文解析を受けなくなるので、単語だけに読み設定をかけると全体の読みが不自然になる。そうならないように、読み設定は1つのフレーズ全体にかける。

### 1つの文書中に複数の読みが混在する単語は単語登録しない。

単語登録は文書全体の同じ単語に対して有効なので、1つの文書内で同じ単語の複数の読みが共存する場合は、単語登録`Ctrl J`を避け、その代わりに読み設定`Ctrl Shift ↓`を使うほうが良い。

#### 例1
{:.no_toc}

![中](media/ctusin/naka.png){: .naka}

「チュー」という読みを「ナカ」に変えたくても、この文書中の他の部分に「チュー」と読むべき所がある場合は単語登録`Ctrl J`を避けたほうが良い。

この場合は以下のように、フレーズ全体に読み設定`Ctrl Shift ↓`をかける。

![中には](media/ctusin/naka2.png){: .naka}

### ルビ（ふりがな）自体を単語登録しない。

ルビ（ふりがな）はAITalkの読み上げ対象ではないので、ルビを単語登録する作業は無駄になる。読みを修正する必要があれば、ルビ自体ではなく、ルビの付いている元の表記の方を単語登録`Ctrl J`する。

![単語登録画面、ルビ](media/ctusin/tango_furigana.png){: .naka}

### 数字を含む読みはできるだけ単語登録しない。

日付、住所、電話番号は、基本的にはもともと正しく読み上げるので、できるだけ単語登録しない。ただし、法律用語で「3月」を「サンゲツ」と読ませるような特殊な場合は、単語登録`Ctrl J`か読み設定`Ctrl Shift ↓`で対処する必要がある。

一般的な文書内で、日付、住所、電話番号の読み上げがおかしい場合は、それを日付、住所、電話番号と認識して構文解析するための形式が不足しているはずなので、それを補うことを考える。

#### 例1
{:.no_toc}

「2019-08-06」という形式の日付は数字の羅列として読まれてしまう。

- この部分の読み設定`Ctrl Shift ↓`として「2019/08/06」と記入すると、日付として読み上げられる。

#### 例2
{:.no_toc}

局番を省略した電話番号は4桁ずつの数値として読まれてしまう。

- 著作権法上の問題を回避できるなら、0で始まる局番を追加する。
- 局番追加という改変が許されない場合は、各数字の間に半角スペースを挿入すれば、アクセントはぎこちないものの、数字の粒読みが実現される。マルチメディアデイジーなどの場合は、表示を原本通りに戻すために、エクスポートしたデータから、挿入した半角スペースを削除する。

#### 例3
{:.no_toc}

![単語登録画面、日付](media/ctusin/tango_hiduke.png){: .naka}

元の読み方のほうが正しいので、この単語登録はしない。

### 単語登録のアクセントの分離は適切な位置でのみ使う。

日本語のアクセントは、1[文節](https://benesse.jp/teikitest/chu/japanese/japanese/c00465.html)につき1箇所だけ高い部分がある。

単語登録`Ctrl J`でアクセントの高い部分が2箇所以上必要になるのは、登録しようとする語句に、文節が2つ以上含まれる場合だけである。

そのような語句の単語登録をする場合は、単語登録画面でアクセントの分離をする。

方法
: アクセント表示枠で、文節を区切りたい位置のドットを右クリックし、「離す」を選択する。

文節の区切り以外のところではアクセントを分離してはいけない。本来1文節である中でアクセント分離を設定すると、複数の文節として発音され、全体の読みが不自然になる。

#### 例1
{:.no_toc}

![単語登録画面、英子](media/ctusin/tango_eiko1.png){: .naka}

「英子」には1文節しかないので、アクセントを分離してはいけない。

「英子」の読みは「エイコ」ではなく「エーコ」という長音にするべきかもしれない。その場合は単語登録でも読みの欄を「エーコ」にする。

「英子」の品詞は人名のはずなので、「名詞 一般」ではなく、最も適切なものを選ぶ。

例えば以下の形であれば、適切な単語登録であると考えられる。

![単語登録画面、英子](media/ctusin/tango_eiko2.png){: .naka}

#### 例2
{:.no_toc}

![単語登録画面、伊藤忠記念財団](media/ctusin/tango_itotyu1.png){: .naka}

アクセントの分離が不適切な位置にある。

例えば以下の形であれば、適切な単語登録であると考えられる。

![単語登録画面、伊藤忠記念財団](media/ctusin/tango_itotyu2.png){: .naka}

#### 例3
{:.no_toc}

![単語登録画面、作製](media/ctusin/tango_sakusei.png){: .naka}

アクセントの分離が不適切な位置にある。

元の読み方のほうが正しいので単語登録する必要がない。


### 読み設定

読み設定`Ctrl Shift ↓`をする場合、以下のことに注意する。

- アクセントを指定するには、カタカナで記入する。ひらがなでアクセント指定しても、読み上げに反映されないことがある。
- かな表記で「えい」「おう」となる語句でも、長音として読ませるためには長音記号`ー`を使って`エー` `オー`と書く。
- アクセントの下がる箇所の直前に、アクセント核指定の記号である全角アポストロフィ`’`を入れる。
- アクセントの高い部分が2箇所以上必要な語句は、文節が2つ以上あるので、アクセント句分離の記号である全角アンダーライン`＿`を挿入する。これを入れずに全角アポストロフィ`’`を2箇所以上入れても、読み上げには反映されない。

#### 間違い例
{:.no_toc}

![読み設定間違い](media/ctusin/accent.jpg){: .naka}

- ひらがなで書いているので、アクセント指定が思い通りに反映されない。アクセント指定するためにはカタカナで書く必要がある。
- アクセント用の記号である全角アポストロフィ`’`は、アクセントが高いところの前ではなく、アクセントが下がるところの前に置く。
- ついでながら、この語句の場合、閉じ括弧を読み設定に含める必要はない。


#### 修正例1：一般的な方法
{:.no_toc}

![読み設定修正例1](media/ctusin/accent2.jpg){: .naka}

- カタカナで書く。
- アクセントの高い部分が2箇所あるので、全角アンダーライン`＿`を使って2つの文節に分ける。
- アクセントの下がるところの直前に全角アポストロフィ`’`を入れる。

#### 修正例2：標準的な表記がある場合の裏技
{:.no_toc}

![読み設定修正例2](media/ctusin/accent1.jpg){: .naka}

- 読みの部分に標準的な表記を入れれば、アクセント指定しなくても自然な読みになる。

